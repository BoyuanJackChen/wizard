{"task_id": 129, "completion": "Here's the Python script for the problem:\r\n\r\n```python\r\ndef magic_square_test(square):\r\n    n = len(square)\r\n    magic_sum = sum(range(1, n*n+1))\r\n    row_sum = col_sum = diag_sum = off_diag_sum = 0\r\n    \r\n    for i in range(n):\r\n        row_sum += sum(square[i])\r\n        col_sum += square[i][i]\r\n        diag_sum += square[i][n-i-1]\r\n        off_diag_sum += square[i][n-i-1]\r\n    \r\n    if row_sum != magic_sum or col_sum != magic_sum or diag_sum != magic_sum or off_diag_sum != magic_sum:\r\n        return False\r\n    \r\n    for i in range(n):\r\n        for j in range(n):\r\n            if square[i][j] != square[j][i]:\r\n                return False\r\n    \r\n    return True\r\n```\r\n\r\nThe function takes a 2D list as input and returns True if the list represents a magic square, and False otherwise. It first calculates the sum of the numbers from 1 to n^2, where n is the size of the square. It then calculates the sum of each row, column, and diagonal of the square, and checks if they are all equal to the magic sum. If not, it returns False. Finally, it checks if all elements in the square are equal to their corresponding elements in the other diagonal, and returns False if any pair of elements don't match. If all checks pass, it returns True. ", "all_code": "Below is an instruction that describes a task. Write a response that appropriately completes the request.\n\n### Instruction:\nCreate a Python script for this problem:\n\nWrite a function to calculate magic square.\nTest examples:\nassert magic_square_test([[7, 12, 1, 14], [2, 13, 8, 11], [16, 3, 10, 5], [9, 6, 15, 4]])==True\nassert magic_square_test([[2, 7, 6], [9, 5, 1], [4, 3, 8]])==True\nassert magic_square_test([[2, 7, 6], [9, 5, 1], [4, 3, 7]])==False\n\n### Response:Here's the Python script for the problem:\r\n\r\n```python\r\ndef magic_square_test(square):\r\n    n = len(square)\r\n    magic_sum = sum(range(1, n*n+1))\r\n    row_sum = col_sum = diag_sum = off_diag_sum = 0\r\n    \r\n    for i in range(n):\r\n        row_sum += sum(square[i])\r\n        col_sum += square[i][i]\r\n        diag_sum += square[i][n-i-1]\r\n        off_diag_sum += square[i][n-i-1]\r\n    \r\n    if row_sum != magic_sum or col_sum != magic_sum or diag_sum != magic_sum or off_diag_sum != magic_sum:\r\n        return False\r\n    \r\n    for i in range(n):\r\n        for j in range(n):\r\n            if square[i][j] != square[j][i]:\r\n                return False\r\n    \r\n    return True\r\n```\r\n\r\nThe function takes a 2D list as input and returns True if the list represents a magic square, and False otherwise. It first calculates the sum of the numbers from 1 to n^2, where n is the size of the square. It then calculates the sum of each row, column, and diagonal of the square, and checks if they are all equal to the magic sum. If not, it returns False. Finally, it checks if all elements in the square are equal to their corresponding elements in the other diagonal, and returns False if any pair of elements don't match. If all checks pass, it returns True. "}
